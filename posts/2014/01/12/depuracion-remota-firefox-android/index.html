<!DOCTYPE html>
<html lang="es">

  <head>
      <meta charset="utf-8" />
      <meta name="author" content="Juan Riquelme (soulchainer)" />
      <meta name="description" content="Blog personal de Juan Riquelme (soulchainer)." />
      <meta name="keywords" content="soulchainer, juan riquelme, blog, soul, soulbits, android, control remoto, depuración remota, desarrollo web, firefox, local, python, servidor web, testeo, vnc" />
      <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0" />
      <title>Soulbits</title>
      <!-- fonts -->
      <link href='http://fonts.googleapis.com/css?family=Droid+Serif:400,400italic,700' rel='stylesheet' type='text/css'>
      <link href='http://fonts.googleapis.com/css?family=Lusitana&text=Soulbits' rel='stylesheet' type='text/css'>
      <link href='http://fonts.googleapis.com/css?family=Niconne' rel='stylesheet' type='text/css'>
      <link href='http://fonts.googleapis.com/css?family=Inconsolata:400,700' rel='stylesheet' type='text/css'>
      <!-- favicons -->
      <link rel="icon" href="http://soulchainer.github.io/theme/favicons/favicon16.png" sizes="16x16">
      <link rel="icon" href="http://soulchainer.github.io/theme/favicons/favicon32.png" sizes="32x32">
      <link rel="icon" href="http://soulchainer.github.io/theme/favicons/favicon64.png" sizes="64x64">
      <link rel="icon" href="http://soulchainer.github.io/theme/favicons/favicon128.png" sizes="128x128">
      <!-- for rounded corners and reflective shine in Apple devices -->
      <link rel="apple-touch-icon" href="http://soulchainer.github.io/theme/favicons/favicon_touch57.png" />
      <link rel="apple-touch-icon" sizes="72x72" href="http://soulchainer.github.io/theme/favicons/favicon_touch72.png" />
      <link rel="apple-touch-icon" sizes="114x114" href="http://soulchainer.github.io/theme/favicons/favicon_touch114.png" />
      <link rel="apple-touch-icon" sizes="144x144" href="http://soulchainer.github.io/theme/favicons/favicon_touch144.png" />
      <!-- Windows 8 tile -->
      <meta name="application-name" content="Soulbits" />
      <meta name="msapplication-TileColor" content="#D9E2F8">
      <meta name="msapplication-TileImage" content="http://soulchainer.github.io/theme/favicons/tileicon.png">
      <!-- Summary twitter card-->
      <meta name="twitter:card" content="summary_large_image">
      <meta name="twitter:creator" content="@soulchainer">
      <meta name="twitter:title" content="Depuración remota & testeo en Firefox para Android">
      <meta name="twitter:description" content="Como ya comenté anteriormente, estoy siguiendo un MOOC sobre desarrollo web orientado a dispositivos móviles en Udacity. La cuestión es que en el curso se usa de forma intensiva Google Chrome y sus herramientas de desarrollo. Y todos tan contentos... hasta que se toca el tema de la depuración remota.">
      <meta name="twitter:image:src" content="http://soulchainer.github.io/images/2014/01/2014-01-12_1.png">
      <meta property="og:site_name" content="Soulbits" />
      <meta property="og:title" content="Depuración remota & testeo en Firefox para Android" />
      <meta property="og:type" content="article" />
      <meta property="og:url" content="http://soulchainer.github.io/posts/2014/01/12/depuracion-remota-firefox-android/" />
      <meta property="og:image" content="http://soulchainer.github.io/images/2014/01/2014-01-12_1.png" />
      <meta property="og:article:section" content="CÓMOS, desarrollo web" />
      <meta property="og:article:tag" content="android" />
      <meta property="og:article:tag" content="control remoto" />
      <meta property="og:article:tag" content="depuración remota" />
      <meta property="og:article:tag" content="desarrollo web" />
      <meta property="og:article:tag" content="firefox" />
      <meta property="og:article:tag" content="local" />
      <meta property="og:article:tag" content="python" />
      <meta property="og:article:tag" content="servidor web" />
      <meta property="og:article:tag" content="testeo" />
      <meta property="og:article:tag" content="vnc" />
      <meta property="og:description" content="Como ya comenté anteriormente, estoy siguiendo un MOOC sobre desarrollo web orientado a dispositivos móviles en Udacity. La cuestión es que en el curso se usa de forma intensiva Google Chrome y sus herramientas de desarrollo. Y todos tan contentos... hasta que se toca el tema de la depuración remota." />
      <meta property="og:locale" content="es_ES" />
      <link type="text/plain" rel="author" href="humans.txt" />
      <link rel="stylesheet" href="http://soulchainer.github.io/theme/css/style.min.css">
<!-- AddThis Smart Layers BEGIN -->
<!-- Go to http://www.addthis.com/get/smart-layers to customize -->
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-52de615c5dc9ffe4"></script>
<script type="text/javascript">
  addthis.layers({
    'theme' : 'transparent',
    'share' : {
      'position' : 'left',
      'numPreferredServices' : 7
    },
    'whatsnext' : {},
    'recommended' : {
      'title': 'Recomendado para ti:'
    }

  });
</script>
<!-- AddThis Smart Layers END -->  </head>

  <body id="index">
    <nav class="sitemenu">
      <ul class="sitemenu">
        <!-- site items-->
          <li class="siteitem"><a class="sitelink" href="/tags/">tags</a></li>
          <li class="siteitem"><a class="sitelink" href="/archives/">archivo</a></li>
          <li class="siteitem"><a class="sitelink" href="/feeds/all.xml">rss</a></li>
        <!--pages-->
        <!-- search -->
        <li class="siteitem"><form method="get" id="search" action="http://duckduckgo.com/">
  <input type="hidden" name="sites" value="youtube.com" />
  <input type="hidden" name="kab" value="r" />
  <input type="hidden" name="ka" value="Source Sans Pro" />
  <input type="hidden" name="kb" value="e" />
  <input type="hidden" name="k7" value="#D9E2F8" />
  <input type="hidden" name="k8" value="#2E2E2E" />
  <input type="hidden" name="kj" value="p" />
  <input type="hidden" name="ky" value="#fafafa" />
  <input type="hidden" name="kx" value="b" />
  <input type="hidden" name="kt" value="Helvetica" />
  <input type="hidden" name="ku" value="-1" />
  <input id="searchtxt" type="search" name="q" maxlength="255" placeholder="Buscar" />
  <input id="query" type="submit" value="DuckDuckGo Search" />
</form></li>
      </ul>
    </nav>
    <div id="container">
      <!-- header -->
      <header class="siteheader">
        <div class = "sitebanner">
          <h1><a class="maintitle nodec" href="http://soulchainer.github.io">Soulbits</a></h1>
          <h3 class ="sitesubtitle">archlinux, software libre y apuntes varios</h3>
          <!-- nav -->
          <nav class="socialmenu">
            <ul>
              <!-- social icons -->
                <li class="socialitem"><a class="icon github" href="https://github.com/soulchainer"></a></li>
                <li class="socialitem"><a class="icon twitter" href="https://twitter.com/soulchainer"></a></li>
                <li class="socialitem"><a class="icon gplus" href="https://www.google.com/+JuanRiquelmeSoul"></a></li>
                <li class="socialitem"><a class="icon tumblr" href="http://soulchainer.tumblr.com"></a></li>
                <li class="socialitem"><a class="icon flickr" href="http://flickr.com/photos/soulchainer"></a></li>
            </ul>
          </nav>
        </div> <!-- sitebanner -->
      </header>
      <!-- content -->

<section class="content">

  <h3>
    <a class="posttitle notransition" href="/posts/2014/01/12/depuracion-remota-firefox-android/" rel="bookmark" title="Permalink to Depuración remota & testeo en Firefox para Android">
      Depuración remota <span class="amp">&amp;</span> testeo en Firefox para&nbsp;Android
    </a>
  </h3>

  <div class="postinfo">
    <p class="published" title="2014-01-12T19:45:00">
      dom 12 enero 2014, por Soulchainer
    </p>
  </div><!-- .postinfo -->

  <div class="article">
    <div class="section" id="id1">
<h2>Depuración remota <span class="amp">&amp;</span> testeo en Firefox para Android</h2>
<div class="figure" style="width: 400px; height: auto; max-width: 100%;">
<img alt="Fire fox (Panda Rojo, Ailurus fulgens). Fotografía obra de Sha Sha Chu (http://www.flickr.com/photos/shashachu/)." src="http://soulchainer.github.io/images/2014/01/2014-01-12_1.png" style="width: 400px; height: auto; max-width: 100%;"/>
<p class="caption">Fire fox (Panda Rojo, <em>Ailurus fulgens</em>). ¿No son adorables estos animales?
<a class="reference external" href='href="http://www.flickr.com/photos/shashachu/258240635/'>Fotografía</a> obra de <a class="reference external" href="http://www.flickr.com/photos/shashachu/">Sha Sha Chu</a>.</p>
</div>
<p>Como ya comenté  <a class="reference external" href="http://soulchainer.github.io/posts/2014/01/07/curso-udacity-desarrollo-web/">anteriormente</a>, estoy
siguiendo un <em><span class="caps">MOOC</span></em> sobre <a class="reference external" href="https://www.udacity.com/course/cs256">desarrollo web orientado a dispositivos móviles</a>
en <a class="reference external" href="https://www.udacity.com/">Udacity</a>. La cuestión es que en el curso se usa de forma intensiva
<em>Google Chrome</em> y sus <em>herramientas de desarrollo</em>. Y todos tan contentos…
hasta que se toca el tema de la <em>depuración remota</em>.</p>
<p>Y es que para ello es necesario instalar <a class="reference external" href="https://play.google.com/store/apps/details?id=com.chrome.beta">Google Chrome Beta</a> en <em>Android</em>.
Lo que a su vez requiere disponer de <strong>Android &gt;= 4.0</strong> <a class="footnote-reference" href="#id9" id="id2">[1]</a>. Y podéis decirme
que "hoy día la mayoría tiene <em><span class="caps">ICS</span></em> o superior", pero resulta que el número de
usuarios que no entra en esa <em>mayoría</em>, entre los cuales me encuentro <strong>yo</strong>
(<em>Android 2.3.5</em>), es bastante númeroso.</p>
</div>
<div class="section" id="firefox-saves-the-day">
<h2>Firefox saves the day</h2>
<p><em>Firefox</em> también soporta la depuración remota, sin la imposición de esta (en
mi opinión) <strong>absurda</strong> restricción.</p>
<p>Siempre es útil conocer más herramientas. Además, yo soy <strong>pro Firefox</strong>, así
que: veamos cómo se hace.</p>
</div>
<div class="section" id="depuracion-remota">
<h2>Depuración remota</h2>
<div class="section" id="requisitos">
<h3>Requisitos</h3>
<ul class="simple">
<li>Equipo ejecutando una versión de escritorio de <em>Firefox</em> <strong>&gt;= 15</strong>.</li>
<li>Dispositivo <em>Android</em> ejecutando <strong>Firefox &gt;= 15</strong>. Versión de
<strong>Android &gt;= 2.2</strong>.</li>
<li>Conectar ambos dispositivos.<ol class="arabic" id="conectividad-wifi">
<li>Vía cable <em><span class="caps">USB</span></em>.</li>
<li>Vía <em>WiFi</em> (<strong>requiere root</strong>). Usando aplicaciones como <a class="reference external" href="https://play.google.com/store/apps/details?id=com.ryosoftware.adbw"><span class="caps">ADB</span> WiFi</a>
(<strong>Android &gt;= 2.1</strong>, <em>traducida</em>) o <a class="reference external" href="https://play.google.com/store/apps/details?id=com.ttxapps.wifiadb">WiFi <span class="caps">ADB</span> - Debug Over Air</a>
(<strong>Android &gt;= 2.3</strong>, <em>mejor diseño</em>). Yo uso la última.</li>
</ol>
</li>
<li><em><span class="caps">ADB</span></em> <a class="footnote-reference" href="#id10" id="id3">[2]</a>. Implica la instalación del <a class="reference external" href="http://developer.android.com/intl/es/sdk/index.html">Android <span class="caps">SDK</span></a> y las
<a class="reference external" href="http://developer.android.com/sdk/installing/adding-packages.html">Android Platforms Tools</a> correspondientes.</li>
</ul>
<p>No detallo los dos últimos puntos aquí. Ante cualquier duda, podéis preguntar
en los comentarios.</p>
</div>
<div class="section" id="activar-la-depuracion-remota-localhost">
<h3>Activar la depuración remota (localhost)</h3>
<p>Debemos activar la <em>depuración remota</em> en ambos dispositivos (<em>escritorio</em> y
<em>Android</em>).</p>
<div class="section" id="en-firefox-para-android-24">
<h4>En Firefox para Android &lt;= 24</h4>
<p>Tecleamos <code>about:config</code> en la <em>barra de direcciones</em> y filtramos la
lista de preferencias con la cadena <code>debugger</code>.
Localizada entre los resultados <code>devtools.debugger.remote-enabled</code>,
cambiamos su valor a <code>true</code>.</p>
<div class="figure align-center" style="width: 400px; height: auto; max-width: 100%;">
<img alt="Búsqueda de la cadena 'debugger' en about:config." src="http://soulchainer.github.io/images/2014/01/2014-01-12_2.png" style="width: 400px; height: auto; max-width: 100%;"/>
</div>
<p>Después, reiniciamos el navegador.</p>
</div>
<div class="section" id="en-firefox-para-android-25">
<h4>En Firefox para Android &gt;= 25</h4>
<p>Aunque posible, en este caso no hay necesidad de recurrir a
<code>about:config</code>, pues contamos con una opción específica en el menú de la
aplicación. En mi terminal la ruta es:
<strong>Más → Configuración → Herramientas de desarrolladores → Depuración remota</strong>.</p>
<div class="figure align-center" style="width: 400px; height: auto; max-width: 100%;">
<img alt="Activación de la opción de 'Depuración remota'." src="http://soulchainer.github.io/images/2014/01/2014-01-12_3.png" style="width: 400px; height: auto; max-width: 100%;"/>
</div>
<p>Al activarla nos recuerda que hemos de configurar el <a class="reference internal" href="#desvio-de-puertos">desvío de puertos</a> para
conectar las <em>herramientas de desarrollo</em> al dispositivo. Lo haremos
<a class="reference internal" href="#mas-adelante">más adelante</a>.</p>
<p>De nuevo aquí, reiniciamos el navegador.</p>
</div>
<div class="section" id="en-la-version-de-escritorio">
<h4>En la versión de escritorio</h4>
<p>En la versión de escritorio nos basta con abrir las
<em>herramientas de desarrollo</em> (<strong>menú Firefox/Tools → Web Developer →</strong>
<strong>marcar la casilla Toggle Tools</strong>) y, en la pestaña de opciones, marcar
<em>Enable remote debugging</em>.</p>
<div class="figure" style="width: 800px; height: auto; max-width: 100%;">
<img alt="Activación de la opción de 'Depuración remota'." src="http://soulchainer.github.io/images/2014/01/2014-01-12_4.png" style="width: 800px; height: auto; max-width: 100%;"/>
</div>
<p>Si usamos <strong>Firefox &lt; 27</strong> tendremos que reiniciar el navegador para que se
apliquen los cambios.</p>
</div>
</div>
<div class="section" id="activar-la-depuracion-remota-red-local">
<h3>Activar la depuración remota (red local)</h3>
<div class="section" id="en-firefox-para-android">
<h4>En Firefox para Android</h4>
<p>Si queremos que el navegador atienda conexiones en la red local (facilita las
cosas, y es clave para la <a class="reference internal" href="#conectividad-wifi">conectividad WiFi</a>), ajustamos a <code>false</code> la
preferencia <code>devtools.debugger.force-local</code> (en <code>about:config</code>).</p>
<div class="figure" style="width: 400px; height: auto; max-width: 100%;">
<img alt="Preferencia devtools.debbuger.force-local establecida a false." src="http://soulchainer.github.io/images/2014/01/2014-01-12_5.png" style="width: 400px; height: auto; max-width: 100%;"/>
</div>
</div>
</div>
<div class="section" id="conectar-red-local">
<h3>Conectar (red local)</h3>
<p>Una vez activada la <em>depuración remota</em>, conectar las
<em>herramientas de desarrollo</em> al dispositivo es bastante sencillo.</p>
<div class="section" id="obtener-la-ip-del-dispositivo">
<h4>Obtener la <span class="caps">IP</span> del dispositivo</h4>
<p>En <em>Android 2.3.5</em>, podemos obtenerla yendo a
<strong>Ajustes → Conexiones inalámbricas → Ajustes Wi-Fi</strong> y pulsando en la red a
la que nos encontramos conectados. Aparece entonces una ventana emergente con
información sobre la conexión.</p>
<div class="figure" style="width: 400px; height: auto; max-width: 100%;">
<img alt="Ventana emergente con información sobre la conexión wireless en el dispositivo Android." src="http://soulchainer.github.io/images/2014/01/2014-01-12_6.png" style="width: 400px; height: auto; max-width: 100%;"/>
</div>
<p>En versiones más recientes de <em>Android</em> se puede encontrar en
<strong>Ajustes → Acerca del teléfono → Estado</strong>.</p>
</div>
<div class="section" id="establecer-la-conexion">
<h4>Establecer la conexión</h4>
<p>Una vez tenemos la <em><span class="caps">IP</span></em>, seleccionamos la opción de <em>Conectar</em> en el escritorio
(<strong>Firefox/Tools → Web Developer → Connect…</strong>).</p>
<div class="figure" style="width: 650px; height: auto; max-width: 100%;">
<img alt="Página de conexión de las herramientas de desarrollo al dispositivo Android (red local)." src="http://soulchainer.github.io/images/2014/01/2014-01-12_7.png" style="width: 650px; height: auto; max-width: 100%;"/>
</div>
<p>Introducimos nuestra <em><span class="caps">IP</span></em> en el campo <code>Host</code>, dejamos el campo del puerto
tal cual (salvo que lo hayamos cambiado, es el puerto por defecto) y
presionamos <em>Connect</em>.</p>
<p>Al hacerlo, salta una ventana en nuestro dispositivo informando del intento de
conexión y dándonos a elegir qué hacer:</p>
<div class="figure align-center" style="width: 400px; height: auto; max-width: 100%;">
<img alt="Ventana emergente solicitando confirmación de conexión en Firefox para Android." src="http://soulchainer.github.io/images/2014/01/2014-01-12_8.png" style="width: 400px; height: auto; max-width: 100%;"/>
<p class="caption">El icono insectoide de la barra de estado es de <a class="reference external" href="https://play.google.com/store/apps/details?id=com.ttxapps.wifiadb">WiFi <span class="caps">ADB</span></a>.</p>
</div>
<p>Una vez aceptamos, conectamos al fin:</p>
<div class="figure align-center" style="width: 650px; height: auto; max-width: 100%;">
<img alt="Página con la conexión al dispositivo Android realizada, mostrando las pestañas y los procesos remotos disponibles." src="http://soulchainer.github.io/images/2014/01/2014-01-12_9.png" style="width: 650px; height: auto; max-width: 100%;"/>
</div>
<p>Si no se efectua la conexión o esta falla, podemos comprobar si el dispositivo
está realmente conectado con <code>adb devices</code>:</p>
<div class="highlight"><pre><span class="nv">$ </span>adb devices
List of devices attached
192.168.1.129:5555  device <span class="c"># dará algo así si estamos conectados por WiFi</span>
c089070e02561ecd    device <span class="c"># o algo parecido a esto si lo estamos por <span class="caps">USB</span></span>
</pre></div>
<p>Y revisar los diversos ajustes en busca del problema.</p>
</div>
</div>
<div class="section" id="conectar-localhost">
<h3>Conectar (localhost)</h3>
<p>La conexión sin acceso a la red local es ligeramente distinta.</p>
<div class="section" id="id4">
<span id="desvio-de-puertos"></span><span id="mas-adelante"></span><h4>Desvío de puertos</h4>
<p>Antes de conectar, hemos de configurar el <em>desvío de puertos</em>. Tecleamos en consola:</p>
<div class="highlight"><pre><span class="nv">$ </span>adb forward tcp:6000 tcp:6000
</pre></div>
<p>Esto deriva las conexiones <em><span class="caps">TCP</span></em> de nuestra máquina al puerto <em>6000</em>, al puerto
<em>6000</em> de nuestro dispositivo, permitiendo así la <em>depuración remota</em>.</p>
</div>
<div class="section" id="id5">
<h4>Establecer la conexión</h4>
<p>Como ya dijimos antes, <strong>sólo es posible vía <span class="caps">USB</span></strong>.</p>
<p>Por lo demás, el procedimiento es idéntico a la conexión usando la red local,
excepto que en el campo <code>Host</code> de la página de conexión indicamos
<code>localhost</code>, en lugar de la <em><span class="caps">IP</span></em> de nuestro dispositivo.</p>
</div>
</div>
<div class="section" id="depurar-remotamente">
<h3>Depurar remotamente</h3>
<p>Ya conectados, simplemente debemos elegir la pestaña que deseamos depurar de
entre todas las pestañas remotas disponibles. Una vez escogida, recibimos
una nueva ventana con las <em>herramientas de desarrollo</em> asociadas al código de la misma.</p>
<div class="figure" style="width: 700px; height: auto; max-width: 100%;">
<img alt="Ventana en nuestro escritorio con las herramientas de desarrollo de Firefox mostrando parte del código de una página abierta en nuestro Android." src="http://soulchainer.github.io/images/2014/01/2014-01-12_10.png" style="width: 700px; height: auto; max-width: 100%;"/>
</div>
</div>
</div>
<div class="section" id="testear-sitios-alojados-en-un-servidor-local">
<h2>Testear sitios alojados en un servidor local</h2>
<p>Hasta ahora hemos visto que, usando <em>Firefox</em> y <em>Firefox para Android</em>, podemos
depurar/testear desde nuestro escritorio sitios online cargados en nuestro
<em>Android</em>; pero, si queremos,
<strong>podemos hacer lo mismo con sitios alojados en un servidor web local</strong>.</p>
<p>Para ello, lo primero de todo es tener un servidor corriendo, obviamente.
Una forma sencilla de montar uno <strong>de pruebas</strong> rapidito es usando <a class="reference external" href="http://www.python.org/">Python</a>.
Entre los muchos <em>módulos</em> que trae el lenguaje por defecto, hay uno que
define <em>clases</em> para implementar servidores web.</p>
<p>Así, con <strong>Python 2.x</strong> podemos iniciar un servidor local desde consola con:</p>
<div class="highlight"><pre><span class="nv">$ </span>python2 -m SimpleHTTPServer 9999
Serving <span class="caps">HTTP</span> on 0.0.0.0 port 9999 ...
</pre></div>
<p>En <strong>Python 3.x</strong> dicho <em>módulo</em> ha pasado a ser <code>http.server</code>, por lo
que en su lugar:</p>
<div class="highlight"><pre><span class="nv">$ </span>python -m http.server 8000
Serving <span class="caps">HTTP</span> on 0.0.0.0 port 8000 ...
</pre></div>
<p>Esto ejecuta un servidor en la ruta actual de consola. Así, si lo ejecuto
desde la carpeta con los <em><span class="caps">HTML</span></em> de mi blog, y accedo vía <em>Firefox</em> a la
dirección indicada por <em>Python</em> (0.0.0.0 → <em>localhost</em> ← 127.0.0.1):</p>
<div class="figure align-center" style="width: 400px; height: auto; max-width: 100%;">
<img alt="Página principal del blog, alojada en servidor local, vista desde Firefox para escritorio." src="http://soulchainer.github.io/images/2014/01/2014-01-12_15.png" style="width: 400px; height: auto; max-width: 100%;"/>
</div>
<p>Acceder desde nuestro <em>Android</em> al servidor es igual de fácil.
Aunque esta vez necesitamos conocer su <em><span class="caps">IP</span></em> en la red local. La averiguamos con:</p>
<div class="highlight"><pre><span class="nv">$ </span>ifconfig
eth0: &lt;span <span class="nv">class</span><span class="o">=</span><span class="s2">"nv"</span>&gt;flags&lt;span <span class="nv">class</span><span class="o">=</span><span class="s2">"o"</span>&gt;<span class="o">=</span>4163&lt;<span class="caps">UP</span>,<span class="caps">BROADCAST</span>,<span class="caps">RUNNING</span>,<span class="caps">MULTICAST</span>&gt;  mtu 1500
    inet 192.168.1.128  netmask 255.255.255.0  broadcast 192.168.1.255
    inet6 fe80::21e:8cff:fe1f:a7d8  prefixlen 64  scopeid 0x20&lt;link&gt;
    ether 00:1e:8c:1f:a7:d8  txqueuelen 1000  &lt;span <span class="nv">class</span><span class="o">=</span><span class="s2">"o"</span>&gt;<span class="o">(</span>Ethernet&lt;span <span class="nv">class</span><span class="o">=</span><span class="s2">"o"</span>&gt;<span class="o">)</span>
    <span class="caps">RX</span> packets 598614  bytes 650747078 &lt;span <span class="nv">class</span><span class="o">=</span><span class="s2">"o"</span>&gt;<span class="o">(</span>620.6 MiB&lt;span <span class="nv">class</span><span class="o">=</span><span class="s2">"o"</span>&gt;<span class="o">)</span>
    <span class="caps">RX</span> errors 0  dropped 16  overruns 0  frame 0
    <span class="caps">TX</span> packets 388523  bytes 69392562 &lt;span <span class="nv">class</span><span class="o">=</span><span class="s2">"o"</span>&gt;<span class="o">(</span>66.1 MiB&lt;span <span class="nv">class</span><span class="o">=</span><span class="s2">"o"</span>&gt;<span class="o">)</span>
    <span class="caps">TX</span> errors 0  dropped 0 overruns 0  carrier 0  collisions 0
...
</pre></div>
<p>Sabiéndola (192.168.1.128 en el caso anterior), nos conectamos desde el
<em>androide</em>:</p>
<div class="figure align-center" style="width: 400px; height: auto; max-width: 100%;">
<img alt="Página principal del blog, alojada en servidor local, vista desde Firefox para Android." src="http://soulchainer.github.io/images/2014/01/2014-01-12_16.png" style="width: 400px; height: auto; max-width: 100%;"/>
</div>
<p>Y a trastear con el sitio.</p>
</div>
<div class="section" id="sobre-la-depuracion-remota-en-firefox">
<h2>Sobre la depuración remota en Firefox</h2>
<p>Esta funcionalidad está bien, pero <em>Firefox</em> aún ha de avanzar mucho al respecto.</p>
<p>A primera vista, le encuentro un par de peros:</p>
<ol class="arabic simple">
<li>Cuando escoges una pestaña a depurar, te abre una ventana nueva con las
herramientas asociadas, sí… pero, al mismo tiempo, cierra la ventana desde
la que realizaste la conexión. Por lo que si quieres saltar luego a otra
pestaña, te toca establecer una nueva conexión. Es un poco absurdo.
<em>Google Chrome</em> mantiene dicha pestaña abierta. Tiene sentido y agiliza
el trabajo.</li>
<li>Una vez conectados, las opciones que provee la página de conexión son
muy pobres: puedes elegir una pestaña entre todas las abiertas en
<em>Firefox para Android</em>… y ya está. Con la herramienta correspondiente de
<em>Google Chrome</em> puedes abrir pestañas, recargarlas, cerrarlas… Y no es una
página estática. Si se abren nuevas pestañas, las muestra en la lista de
pestañas, por ejemplo. Como he dicho, es bastante limitada por ahora.</li>
</ol>
</div>
<div class="section" id="alternativa-a-la-funcion-screencast">
<h2>Alternativa a la función screencast</h2>
<p>Parte de lo explicado anteriormente sobre la <em>depuración remota</em> en <em>Firefox</em>
puede encontrarse en la <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Tools/Remote_Debugging/Firefox_for_Android">correspondiente guía</a> de la <strong><span class="caps">MDN</span></strong> y en
<a class="reference external" href="https://hacks.mozilla.org/2012/08/remote-debugging-on-firefox-for-android/">un artículo de hacks.mozilla.org</a>.</p>
<p>Y me dejé un último pero, muy visual, para el final: la ausencia de una
alternativa nativa a la función <em>screencast</em> de <em>Google Chrome</em>:</p>
<div class="figure align-center" style="width: 700px; height: auto; max-width: 100%;">
<img alt="Captura de la opción screencast de las herramientas de desarrollo de Google Chrome. Muestra en tiempo real la pantalla de nuestro dispositivo Android en el navegador y permite interactuar con ella." src="http://soulchainer.github.io/images/2014/01/2014-01-12_11.png" style="width: 700px; height: auto; max-width: 100%;"/>
<p class="caption">Con <em>screencast</em> visualizamos e interactuamos con la pantalla del
dispositivo en el navegador.</p>
</div>
<p>Lo ideal sería que <em>Mozilla</em> implementara esta función en <a class="reference external" href="https://developer.mozilla.org/es/docs/Mozilla/Firefox_OS/Using_the_App_Manager/">app-manager</a>.
O que la incluyera como una más entre las <em>herramientas de desarrollo</em> por
defecto de <em>Firefox</em>. Pero es que ni siquiera para los terminales <a class="reference external" href="http://www.mozilla.org/es-ES/firefox/os/">Firefox <span class="caps">OS</span></a>
contamos con algo así. Lo más parecido es la opción de tomar una captura de
pantalla (que con una pequeña triquiñuela se puede emplear también con
terminales <em>Android</em>). Y no hay punto de comparación.</p>
<p>Ante esta carencia, he indagado en busca de una alternativa para <em>Firefox</em>, y
sólo he encontrado una opción satisfactoria: <a class="reference external" href="https://play.google.com/store/apps/details?id=org.onaips.vnc">Odroid <span class="caps">VNC</span> server</a>
(<strong>requiere root</strong>).</p>
<p>Se trata de una aplicación <em>Android</em> capaz de levantar un
<em>servidor <span class="caps">VNC</span></em> <a class="footnote-reference" href="#id11" id="id6">[3]</a> en nuestro dispositivo. Por desgracia, está discontinuado
<a class="footnote-reference" href="#id12" id="id7">[4]</a> (recibió su última actualización el 11 de junio de 2012). Esto acarrea
que quizás no funcione para terminales con versiones de <em>Android</em> posteriores a
la fecha, pero es funcional en mi terminal. Y, por las críticas de sus años
mozos, aparentemente también lo será en otros dispositivos que tienen
<em>Google Chrome</em> vedado.</p>
<div class="section" id="configurar-poner-en-marcha-el-servidor">
<h3>Configurar <span class="amp">&amp;</span> poner en marcha el servidor</h3>
<p>Una vez instalado a través de <em>Google Play</em>, lo ejecutamos, le concedemos
permiso de <strong>superusuario</strong>, pulsamos el inmenso botón <strong><span class="caps">START</span></strong> y ya está:
servidor corriendo (si no ocurre ninguna hecatombe <a class="footnote-reference" href="#id13" id="id8">[5]</a>).</p>
<div class="figure align-center" style="width: 600px; height: auto; max-width: 100%;">
<img alt="Capturas de Odroid VNC server detenido y en ejecución." src="http://soulchainer.github.io/images/2014/01/2014-01-12_12.png" style="width: 600px; height: auto; max-width: 100%;"/>
<p class="caption">A la izquierda, el servidor detenido. A la derecha, en ejecución.</p>
</div>
<p>Dispone de un <em>menú de ajustes</em> (<em>settings</em>), donde podemos establecer algunas
preferencias sobre el servidor, la pantalla y otros detalles.</p>
<div class="figure" style="width: 400px; height: auto; max-width: 100%;">
<img alt="Captura del menú de preferencias del servidor vnc." src="http://soulchainer.github.io/images/2014/01/2014-01-12_13.png" style="width: 400px; height: auto; max-width: 100%;"/>
</div>
</div>
<div class="section" id="instalar-usar-el-cliente">
<h3>Instalar <span class="amp">&amp;</span> usar el cliente</h3>
<p>Ya está el servidor funcionando, pero sin un programa cliente para conectarnos
a él desde el escritorio, no sirve de nada.</p>
<p>En <strong>Archlinux</strong>, instalamos <code>tightvnc</code> desde <strong><span class="caps">AUR</span></strong>:</p>
<div class="highlight"><pre><span class="nv">$ </span>yaourt -S tightvnc
</pre></div>
<p>O, si lo preferimos, <code>tigervnc</code> desde los repositorios oficiales:</p>
<div class="highlight"><pre><span class="c"># pacman -S tigervnc</span>
</pre></div>
<p>Ambos paquetes proporcionan un cliente/servidor de <em>vnc</em>.</p>
<p>Ahora sí podemos acceder al servidor. Desde el navegador, con la url que nos
proporcionó <em>Odroid</em>:</p>
<div class="figure align-center" style="width: 422px; height: auto; max-width: 100%;">
<img alt="Applet Java que proporciona Odroid, mostrando la pantalla de nuestro Android." src="http://soulchainer.github.io/images/2014/01/2014-01-12_14.png" style="width: 422px; height: auto; max-width: 100%;"/>
<p class="caption"><em>Applet Java</em> proporcionado por <em>Odroid</em>, mostrando la pantalla de nuestro
<em>Android</em>.</p>
</div>
<p>De las dos opciones que proporciona <em>Odroid</em> para manejar la pantalla, el
<em>applet Java</em> parece ser la que mejor funciona. En mi caso, la versión
<em>Javascript</em> altera los colores. Además, el applet permite configurar diversas
opciones del servidor, como el nivel de compresión o la calidad del <em>jpeg</em>,
que mejoran su velocidad de respuesta.</p>
<p>Si conseguimos que nos funcione <em>Odroid</em>, no echaremos de menos la función
<em>screencast</em> de <em>Google Chrome</em>. Y viene con un <strong>extra</strong> bastante importante:
<strong>podemos controlar nuestro Android totalmente</strong> y visualizarlo en nuestro
escritorio, no sólo nuestro navegador.</p>
<p>Controles de <em>Odroid <span class="caps">VCN</span> server</em>:</p>
<ul class="simple">
<li>Botón derecho del ratón: <strong>Volver atrás</strong></li>
<li>Botón izquierdo del ratón: <strong>tap/clic/swipe</strong></li>
<li>Botón central del ratón: <strong>apagar/encender pantalla</strong></li>
</ul>
<p>Con esta alternativa, se suple perfectamente la ausencia de <em>screencast</em> en
<em>Firefox</em>.</p>
<hr class="docutils"/>
<table class="docutils footnote" frame="void" id="id9" rules="none">
<colgroup><col class="label"></col><col></col></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[1]</a></td><td>Si me preguntáis a mí, esa limitación se ajusta más a la voluntad de forzar al usuario a renovar su terminal <em>Android</em> (y/o versión del sistema) que a limitaciones insalvables. Por descontado, se esgrimirá la excusa de "garantizar la experiencia de usuario".</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id10" rules="none">
<colgroup><col class="label"></col><col></col></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[2]</a></td><td><em>Android Debug Bridge</em>. Es una herramienta del <a class="reference external" href="http://developer.android.com/intl/es/sdk/index.html">Android <span class="caps">SDK</span></a>, que nos permite controlar y comunicarnos con nuestro dispositivo <em>Android</em>.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id11" rules="none">
<colgroup><col class="label"></col><col></col></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id6">[3]</a></td><td>Virtual Network Computing* (Computación Virtual en Red). <em><span class="caps">VNC</span></em> es un software de escritorio remoto, con una estructura cliente-servidor. El servidor es el programa que reside en la máquina que comparte su pantalla, mientras que el cliente (o visor) es un programa que, ejecutándose en otra máquina, visualiza, controla e interactua con el servidor.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id12" rules="none">
<colgroup><col class="label"></col><col></col></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id7">[4]</a></td><td>El tema de los <strong>servidores</strong> <em><span class="caps">VNC</span></em> en <em>Android</em> es un poco peliagudo: clientes hay a patadas, pero los servidores pueden contarse con los dedos de la mano, y de los pocos disponibles la mitad no funcionan en demasiados dispositivos, son de pago (lo que no garantiza su funcionalidad, si atendemos a las valoraciones que reciben) o están discontinuados (el caso que nos ocupa).</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id13" rules="none">
<colgroup><col class="label"></col><col></col></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id8">[5]</a></td><td><a class="reference external" href="https://twitter.com/FreakViking/status/421780992668729344">@FreakViking dice que…</a></td></tr>
</tbody>
</table>
</div>
</div>

  </div><!-- .content -->

  <div class="tags">
    <ul>
    <li class="tag"><a class="taglink notransition" href="http://soulchainer.github.io/tags/android/">android</a></li>
    <li class="tag"><a class="taglink notransition" href="http://soulchainer.github.io/tags/control-remoto/">control remoto</a></li>
    <li class="tag"><a class="taglink notransition" href="http://soulchainer.github.io/tags/depuracion-remota/">depuración remota</a></li>
    <li class="tag"><a class="taglink notransition" href="http://soulchainer.github.io/tags/desarrollo-web/">desarrollo web</a></li>
    <li class="tag"><a class="taglink notransition" href="http://soulchainer.github.io/tags/firefox/">firefox</a></li>
    <li class="tag"><a class="taglink notransition" href="http://soulchainer.github.io/tags/local/">local</a></li>
    <li class="tag"><a class="taglink notransition" href="http://soulchainer.github.io/tags/python/">python</a></li>
    <li class="tag"><a class="taglink notransition" href="http://soulchainer.github.io/tags/servidor-web/">servidor web</a></li>
    <li class="tag"><a class="taglink notransition" href="http://soulchainer.github.io/tags/testeo/">testeo</a></li>
    <li class="tag"><a class="taglink notransition" href="http://soulchainer.github.io/tags/vnc/">vnc</a></li>
    </ul>
  </div>


  <section>
    <div id="disqus_thread"></div>
      <script type="text/javascript">
        var disqus_shortname = 'soulbits';
        (function() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
      </script>
      <noscript>Por favor, activa JavaScript para ver los <a href="http://disqus.com/?ref_noscript">comentarios proporcionados por Disqus.</a></noscript>
      <a href="http://disqus.com" class="dsq-brlink">comentarios vía <span class="logo-disqus">Disqus</span></a>
  </section>

</section>
<script src="http://soulchainer.github.io/theme/js/toc.js" type="text/javascript" charset="utf-8"></script>
      <div class="push"></div>
    </div>
    <!-- footer -->
    <footer id="footer">
      <p id="credits">
        © Soulchainer. Contenido bajo licencia <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons 4.0</a>.
        Sitio generado con <a href="http://docs.getpelican.com/">Pelican</a> <a href="http://soulchainer.github.io/humans.txt"><img alt="humanstxt logo" title="Créditos y agradecimientos" src="http://soulchainer.github.io/theme/images/humanstxt.png"></a>
      </p>
    </footer>
  </body>
</html>
